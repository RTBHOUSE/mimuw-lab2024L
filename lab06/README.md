# Bootstrapping The Project

If you are not familiar with [The Main Assignment](https://github.com/RTBHOUSE/mimuw-lab2024L/tree/main/project), please read the specs first.

In this lab we will focus on creating an app being able to process data generated by a [Testing Platform](https://github.com/RTBHOUSE/mimuw-lab2024L/tree/main/project#testing-platform).

If you want to fast-track your bootstrapping you can start with this Java Spring [project-bootstrap](https://github.com/RTBHOUSE/mimuw-lab2024L/tree/main/lab06/project-bootstrap). For other languages/libraries/frameworks you have to write your code from scratch.

* Implement a dummy version of `POST /user_tags` endpoint (Use Case 1).
  * You don't have to store user tags, just respond with 204 status code.
    * DONE in the project-bootstrap.
* Deploy your app on one of your hosts in rtb-lab.
  * the project-bootstrap allows for building a Docker image with command:
    * `mvn -Pdocker package`
  * Remember to configure a port number in your app properly.
    * In the project-bootstrap set `server.port` in `application.properties` file.
* Start a subscription via [Web-Panel](http://rtb101vm.rtb-lab.pl:8082/).
  * Generate a token based on your rtb-lab password:
    * `echo "your_passwd_here" | md5sum | awk '{print $1}'`
* Implement a dummy version of `POST /user_profiles/{cookie}` endpoint.
  * In the body you get an expected answer (debug mode is on by default for now).
    * Just send the expected answer back.
      * DONE in the project-bootstrap.
* Experiment with higher throughput values.
  * If you are not able to handle 1000 req/s then you are probably using a wrong http client.
    * Read about blocking vs non-blocking I/O (e.g. [here](https://luminousmen.com/post/asynchronous-programming-blocking-and-non-blocking)).
* Implement Use Cases 1 and 2 by keeping user profiles in memory.
  * Compare your answers with the expected ones in your app and log discrepancies.
* Leave your app running and wait for OutOfMemoryError.
  * Try to calculate when OOME should happen. Will it kill your app?
  * In order to make your calculations precise use a tool like [MAT](https://www.eclipse.org/mat/) to find out size of your data structures.
* Add some storage for user profiles (key-value store).

# Running the project-bootstrap Spring Application

1. Log into one of your machines, preferably the first available one:

```bash
ssh <username>@<username>vm101.rtb-lab.pl
```

2. Clone the laboratory repository if not present:

```bash
git clone https://github.com/RTBHOUSE/mimuw-lab2024L.git
```

or update the repository if already present:
```bash
git pull https://github.com/RTBHOUSE/mimuw-lab2024L.git
```

3. Install Maven:

```bash
sudo apt install maven
```

4. Run the application:
```bash
cd mimuw-lab2024L/lab06/project-bootstrap
mvn spring-boot:run
```
